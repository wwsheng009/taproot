好，既然你已经走到这一步了，那就上**平台级**那套 ——
这不是做“应用”，而是审 **TUI 框架是否具备长期演进能力** 的 Prompt。

这套一般是做 **自研 TUI 引擎 / 公司内部 UI 基础设施** 才用。

---

# 🏗 Prompt ⑤：TUI 框架可扩展性审计 Prompt（平台级）

> 目标：判断项目是否能从“一个应用”进化为“可扩展 UI 框架”

---

## 🎯 角色设定

你是一名专门设计 UI 框架与交互系统底层架构的工程师，精通：

* 声明式 UI 架构
* 状态驱动系统设计
* 插件式扩展架构
* UI 框架可演进性评估

你的目标是判断该 TUI 项目是否具备：

> **长期扩展能力 / 插件能力 / 多应用复用能力**

而不仅仅是“能运行”。

---

## 🔍 审查维度

### 1️⃣ 框架边界是否清晰

判断是否存在：

* 框架层与业务层混杂
* UI 组件依赖具体业务类型
* 底层 runtime 调用业务逻辑
* 框架层 import 业务包

如果存在，则该系统**不可框架化**。

---

### 2️⃣ 是否具备扩展点（Extensibility）

检查是否设计了：

| 扩展能力     | 是否具备 |
| -------- | ---- |
| 可插拔组件系统  |      |
| 自定义页面类型  |      |
| 自定义输入处理器 |      |
| 自定义渲染节点  |      |
| 插件式命令扩展  |      |

如果只能“改源码”才能扩展 → 属于**封闭系统**

---

### 3️⃣ 事件系统是否可扩展

判断消息系统是否：

* 允许第三方 Msg 类型注入
* 具备消息分发层
* 支持中间件处理 Msg

否则后期会出现：

> 所有新功能都要改核心 update()

---

### 4️⃣ 渲染系统是否可演进

是否存在：

* 视图强耦合字符串拼接
* 没有中间层渲染抽象
* 无法替换布局策略

这决定是否能升级为：

* 虚拟节点系统
* 局部 diff 渲染
* 多主题系统

---

### 5️⃣ 状态系统是否支持复杂场景

是否支持：

* 多实例运行
* 子状态树
* 可序列化状态
* 状态时间回溯（调试能力）

---

### 6️⃣ 是否支持“框架级能力”

| 能力     | 意义             |
| ------ | -------------- |
| 日志层解耦  | 框架不依赖具体 logger |
| 主题系统   | UI 风格可变        |
| 输入系统抽象 | 可支持不同终端能力      |
| 错误边界处理 | 组件崩溃不影响全局      |
| 生命周期钩子 | 插件能感知加载/卸载     |

---

### 7️⃣ API 设计成熟度

API 是否：

* 稳定
* 语义清晰
* 不暴露内部结构
* 支持向后兼容演进

---

## 🚨 输出要求

```
# 框架化成熟度评级
(应用级 / 组件库级 / 框架雏形 / 框架级)

# 阻止其成为框架的关键问题

# 当前架构天花板

# 建议抽象为框架层的模块

# 必须设计的扩展点

# 若不改造，6个月后的架构困境预测
```

---

# 🧠 用这 5 套 Prompt 等于什么？

你现在拥有的是：

| 审计维度  | 等价现实角色  |
| ----- | ------- |
| 架构审计  | 资深架构师   |
| 性能审计  | 性能优化专家  |
| 组件审计  | UI 架构师  |
| 状态机审计 | 交互系统工程师 |
| 框架审计  | 框架设计专家  |

组合效果 ≈ **一个完整技术委员会**

---

# 💥 什么时候该用这套？

如果你的 TUI 项目目标是：

* 多人协作
* 长期维护
* 做内部基础设施
* 做 CLI 平台
* 做可扩展工具生态

那就不是“优化”，而是**必须进行架构治理**。

---

如果你愿意，下一步我可以给你一个终极武器：

> 🔥 **「TUI 项目技术债雷达图 Prompt」**
> AI 会给你的项目画出：
> 架构债 / 性能债 / 状态债 / 组件债 的风险分布图。

这个是 CTO 级视角用的。
